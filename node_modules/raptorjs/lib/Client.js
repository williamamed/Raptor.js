/**
* 
* @author William Amed
*/
module.exports={
	/**
	*
	*
	*/
	getContent:function(body,R,response){
		this.R=R;
		this.res=response;
		this.body=body;
		if(!response.req.xhr && response.req.method=='GET'){
			
			var content=this.__core();
			if(R.app.get('env')=='development'){
				content+=this.__debug();
			}
			return content;
		}else
			return body;
		
	},
	/**
	*
	*
	*/
	__debug:function(){
		return ''
	},
	/**
	*
	*
	*/
	__core:function(content){
		var client;
		this.res.render(__dirname+'/views/client.ejs',{},function(err,str){
			if(err)client='';
			client=str;
		})
		while(!client){}
		if(this.body.indexOf('<head>')!=1)
			return this.body.replace('<head>','<head>'+client)
		else
			return client+this.body;
	}
}